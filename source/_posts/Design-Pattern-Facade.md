---
title: Design Pattern - Facade
date: 2019-04-09 23:38:41
tags: ["Design Pattern", "Facade"]
category: ["Design Pattern"]
---

ì´ë²ˆì— ë‹¤ë£° ë””ìì¸ íŒ¨í„´ì€ **í¼ì‚¬ë“œ(Facade) íŒ¨í„´**ì´ë‹¤. ì¼ë‹¨ ë‹¤ë¥¸ íŒ¨í„´ë“¤ê³¼ ë‹¬ë¦¬ ë‹¨ì–´ë¥¼ ëª°ëê¸° ë•Œë¬¸ì— ì´ë¦„ë§Œìœ¼ë¡œ ì™€ë‹¿ì§€ ì•Šì•˜ë‹¤. ë¨¼ì € ë‹¨ì–´ì˜ ì˜ë¯¸ë¶€í„° ì•Œì•„ë³´ê³  ë“¤ì–´ê°€ì.

Facadeë€?

*1. (ê±´ë¬¼ì˜) ì •ë©´ [ì•ë©´]*

*2. (ì‹¤ì œì™€ëŠ” ë‹¤ë¥¸) í‘œë©´, í—ˆìš¸*

ë­”ê°€ ëŠë‚Œì´ ì˜¤ëŠ”ê°€?! ì „í˜€ ì˜¤ì§€ ì•ŠëŠ”ë‹¤ ğŸ˜… ê·¸ëŸ¼ í¼ì‚¬ë“œ íŒ¨í„´ì˜ ì •ì˜ë¥¼ í•¨ê»˜ ì‚´í´ë³´ì.



### Facade Pattern

---

ìœ„í‚¤í”¼ë””ì•„ì—ì„œ í¼ì‚¬ë“œ íŒ¨í„´ì„ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜í•˜ê³  ìˆë‹¤. 

**"í¼ì‚¬ë“œ íŒ¨í„´ì€ ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì—ì„œ í”íˆ ì‚¬ìš©ë˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ë””ìì¸ íŒ¨í„´ì´ë‹¤. ê±´ì¶•ë¬¼ì˜ ì™¸í˜•ê³¼ ìœ ì‚¬í•˜ê²Œ í¼ì‚¬ë“œëŠ” ë³µì¡í•œ ì‹œìŠ¤í…œ ë’¤ë‹¨ì€ ìˆ¨ê¸°ê³  ê°„ë‹¨í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ê°ì²´ë‹¤. "**

ê±´ì¶•ë¬¼ì— ë¹„ìœ í–ˆëŠ”ë° ì—¬ê¸°ì— ì‚´ì„ ì¢€ ë” ë¶™ì—¬ë³´ìë©´, ìš°ë¦¬ëŠ” ê·¸ ê±´ì¶•ë¬¼ì˜ ë³µì¡í•œ ë‚´ë¶€ êµ¬ì¡°ëŠ” ì•Œ í•„ìš” ì—†ë‹¤. ë‚´ë¶€ ì² ê·¼ êµ¬ì¡°, íŒŒì´í”„ êµ¬ì¡°ë¥¼ ëª¨ë¥´ê³ ë„ ìš°ë¦° ê±´ë¬¼ ì•ˆìœ¼ë¡œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆìœ¼ë©° ê±´ë¬¼ì˜ ì¸µê³„ë¥¼ ì—˜ë¦¬ë² ì´í„° í˜¹ì€ ê³„ë‹¨ì„ í†µí•´ ì˜¤ë¥¼ ìˆ˜ ìˆë‹¤.

í¼ì‚¬ë“œ íŒ¨í„´ì˜ êµ¬ì¡°ë¥¼ ì‚´í´ë³´ì. 

![](https://ehdrjsdlzzzz.github.io/2019/04/09/Design-Pattern-Facade/facade.png)



í¼ì‚¬ë“œë¥¼ í•˜ë‚˜ì˜ ê±°ëŒ€í•˜ê³  ë³µì¡í•œ ì‹œìŠ¤í…œì´ë¼ ê°€ì •í•˜ì. **Dependency**ëŠ” ì‹œìŠ¤í…œì´ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ”ë° ë‚´ë¶€ì ìœ¼ë¡œ í•„ìš”í•œ ê°ì²´ë“¤ì„ ì˜ë¯¸í•œë‹¤. í¼ì‚¬ë“œëŠ” ì´ëŸ¬í•œ ë‚´ë¶€ ê°ì²´ë“¤ì´ ì„œë¡œ ìƒí˜¸ì‘ìš©í•˜ëŠ” ê²ƒì„ ìˆ¨ê¸°ê³  ê·¸ ê²°ê³¼ë¬¼ë§Œì„ ë°˜í™˜í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤. 

í´ë¼ì´ì–¸íŠ¸ê°€ ì´ë ‡ê²Œ ë³µì¡í•œ ì‹œìŠ¤í…œì— ì ‘ê·¼í•˜ê²Œ ë˜ë©´ êµ¬í˜„, ë³€ê²½, í…ŒìŠ¤íŠ¸ ê·¸ë¦¬ê³  ì¬ì‚¬ìš©ì´ êµ‰ì¥íˆ í˜ë“¤ì–´ì§„ë‹¤. ì´ëŸ¬í•œ ê´€ê³„ëŠ” í¼ì‚¬ë“œì— ìˆ¨ê¸°ê³  í´ë¼ì´ì–¸íŠ¸ëŠ” í¼ì‚¬ë“œë§Œì„ ê°–ê³  ìˆìœ¼ë©´ ëœë‹¤. ê·¸ë¦¬ê³  ê·¸ í¼ì‚¬ë“œê°€ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©ë§Œ í•˜ë©´ ëœë‹¤.

> ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” Cocoapod ë¼ì´í”„ëŸ¬ë¦¬ë“¤ì´ ì¼ì¢…ì˜ ì´ëŸ° í¼ì‚¬ë“œê°€ ì•„ë‹ê¹Œ?

ì´ë¥¼ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ìœ¼ë¡œ í‘œí˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤. 

![](http://java.dzone.com/sites/all/files/facade_seq.PNG)

í´ë¼ì´ì–¸íŠ¸ëŠ” í¼ì‚¬ë“œì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ì„œë§Œ ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê³  ê°’ì„ ëŒë ¤ë°›ëŠ”ë‹¤.

ì–´ë–¤ ê°ì²´ë“  ê·¸ ê°ì²´ì™€ ìƒí˜¸ì‘ìš©í•˜ëŠ” í´ë˜ìŠ¤ ê°œìˆ˜ì™€ ê·¸ ë°©ë²•ì— ì£¼ì˜í•´ì•¼ í•œë‹¤. ê·¸ë§Œí¼ ì˜ì¡´ì„±ì´ ìƒê¸°ê¸° ë•Œë¬¸ì´ë‹¤. 

í¼ì‚¬ë“œë¥¼ ê³µë¶€í•˜ë©´ì„œ ëŠë‚€ ê²ƒì€ ê°ì²´ ì§€í–¥ì˜ **ì€ë‹‰í™”**ì™€ ê·¸ ê°œë…ì´ ë§ì´ ìœ ì‚¬í•˜ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤. ë¬¼ë¡  í¼ì‚¬ë“œëŠ” ê·¸ ë‚´ë¶€ì—ì„œ ì—¬ëŸ¬ ê°ì²´ë“¤ì´ ìƒí˜¸ì‘ìš©í•œë‹¤ëŠ” ê²ƒì´ ë‹¤ë¥¸ ì ì´ë‹¤. 

ë˜í•œ í¼ì‚¬ë“œëŠ” í•˜ë‚˜ì˜ ê±°ëŒ€í•œ ì‹œìŠ¤í…œì„ ë‹´ê¸°ë³´ë‹¨ ê·¸ ê±°ëŒ€í•œ ì‹œìŠ¤í…œì„ ì´ë£¨ëŠ” ì‘ì€ ì‹œìŠ¤í…œ, ì¦‰ ì¢€ ë” ì‘ì€ í¼ì‚¬ë“œë“¤ë¡œ ì´ë£¨ì–´ì ¸ ìˆëŠ” ê²ƒì´ ì¢€ ë” ì˜¬ë°”ë¥¸ ëª¨ìŠµì´ë¼ê³  ìƒê°í•œë‹¤.

> ëª¨ë“ ì§€ í•˜ë‚˜ì˜ ê±°ëŒ€í•œ ë©ì–´ë¦¬ëŠ” ì˜³ì§€ ì•Šë‹¤ê³  ìƒê°ì´ ë“ ë‹¤. ìŒ.. ê·¸ë§Œí¼ ì¬ì‚¬ìš©í•˜ê¸°ê°€ ì–´ë µê³ .. í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° í˜ë“¤ê³ â€¦!! 

ê·¸ëŸ¼ ê°„ë‹¨í•˜ê²Œ ì½”ë“œ ì˜ˆì œë¥¼ ì‚´í´ë³´ì. ì˜ˆì œì˜ ê¸°ëŠ¥ì— í•„ìš”í•œ ê¸°ëŠ¥ê³¼ ìš”ì†ŒëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

**ê¸°ëŠ¥**

- 4ë“±ë¶„ìœ¼ë¡œ ë‚˜ë‰˜ì–´ì§„ ë·°ì˜ ì™¼ìª½ ìƒë‹¨ ë·°ì— ê·¸ë¦¼ì„ ê·¸ë¦¬ë©´ ê·¸ ê·¸ë¦¼ì€ ë°ì¹¼ì½”ë§ˆë‹ˆ í˜•ì‹ìœ¼ë¡œ ì˜¤ë¥¸ìª½, ì•„ë˜, ê·¸ë¦¬ê³  ëŒ€ê°ì„  ì˜¤ë¥¸ìª½ ì•„ë˜ì˜ ë‚˜ë¨¸ì§€ 3ê°œì˜ ë·°ì— ë°˜ì‚¬ëœ ëª¨ìŠµìœ¼ë¡œ ê·¸ë ¤ì§„ë‹¤.  
- ê³µìœ  ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìš°ë¦¬ëŠ” ë‚˜ë‰˜ì–´ì§„ ë·°ì˜ ì „ì²´ ëª¨ìŠµì„ í•˜ë‚˜ì˜ ì´ë¯¸ì§€ì˜ í˜•íƒœë¡œ `UIActivityViewController`ë¥¼ í†µí•´ ë‹¤ë¥¸ ì•±ì— ê³µìœ í• ìˆ˜ ìˆë‹¤. 

**í•„ìš”í•œ ê°ì²´**

- ê·¸ë¦¼ì´ ê·¸ë ¤ì§€ëŠ” `inputDrawing` , ìœ„ì˜ ê¸°ëŠ¥ ì„¤ëª…ì—ì„œ ì™¼ìª½ ìƒë‹¨ ë·°ê°€ ì—¬ê¸°ì— í•´ë‹¹ëœë‹¤. 
- ê·¸ë ¤ì§„ ë°ì¹¼ì½”ë§ˆë‹ˆë¥¼ ë‹´ê³  ìˆëŠ” `entireDrawing`
- ë·° ìœ„ì—ì„œ ì‚¬ìš©ìê°€ ê·¸ë¦° í˜•íƒœë¥¼ ì´ë¯¸ì§€ë¡œ ë³€í™˜ì‹œì¼œì£¼ëŠ” `imageRenderer



![](https://ehdrjsdlzzzz.github.io/2019/04/09/Design-Pattern-Facade/draw.png)

![](https://ehdrjsdlzzzz.github.io/2019/04/09/Design-Pattern-Facade/share2.png)

í¼ì‚¬ë“œëŠ” ëŒ€ëµ ë‹¤ìŒê³¼ ê°™ì€ ëª¨ìŠµì„ ë³´ì¸ë‹¤.

```swift
class ShareFacade {
    public unowned var entireDrawing: UIView
    public unowned var inputDrawing: UIView
    public unowned var parentViewController: UIViewController
    public var imageRenderer: ImageRenderer()
    
    init(entireDrawing: UIView, inputDrawing: UIView, parentViewController: UIViewController) { 
    	// ...

    }

    func presentShareActivity() { 
        // ...
        parentViewController.present( ... )
    }
    
    private func convert() -> UIImage { 
        // ...
        let image = imageRenderer.convert( ... )
        // ...
        
        return image
    }
}
```

ë‚´ë¶€ì ìœ¼ë¡œ ê·¸ë¦¼ì´ ê·¸ë ¤ì§„ ë·°ì™€ ê·¸ ê²°ê³¼ë¥¼ ë‹´ê³  ìˆëŠ” ë·°, ì´ë¯¸ì§€ë¡œì˜ ë³€í™˜ì„ ë‹´ë‹¹í•˜ëŠ” ê°ì²´ ê·¸ë¦¬ê³  ì´ ë·°ë“¤ì„ ê°–ê³  ìˆëŠ” ë·° ì»¨íŠ¸ë¡¤ëŸ¬(*`UIAcitivtyViewController`ë¥¼ ë„ì–´ì¤„ ë·° ì»¨íŠ¸ë¡¤ëŸ¬*)ë¥¼ ê°–ê³  ë·°ë¡œë¶€í„° ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ì–´ë‚´ê³  ê·¸ ì´ë¯¸ì§€ë¥¼ ì´ìš©í•´ `UIActivityViewController`ë¥¼ ë„ìš´ë‹¤.

ê·¸ë¦¬ê³  í´ë¼ì´ì–¸íŠ¸ëŠ” í¼ì‚¬ë“œë¥¼ ì•„ë˜ì™€ ê°™ì´ ê°–ê³  ìˆëŠ”ë‹¤. 

```swift
public class ViewController: UIViewController {
    lazy var shareFacade: ShareFacade = ShareFacade(entireDrawing: drawViewContainer, inputDrawing: inputDrawView, parentViewController: self)
    
    ...
    
	@IBAction public func sharePressed(_ sender: Any) {
		shareFacade.presentShareActivity()
	}
}
```

ì´ë ‡ê²Œ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì´ë¯¸ì§€ê°€ ë³€í™˜ë˜ê³  `UIActivityViewController`ê°€ ì˜¬ë¼ì˜¤ëŠ” ê³¼ì •ì€ ëª¨ë¥¸ ì±„ `presentShareActivity` ë©”ì†Œë“œë§Œ í˜¸ì¶œí•˜ë©´ ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.